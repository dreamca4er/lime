**Инструмент для работы с коллекторами**

Служит для добавления, отключения, перемещения и других действий с коллекторами и в рамках коллекторского контекста

**Настройка**
1. Переименовать файл **connect_config_clean.json** в **connect_config.json**
2. Заполнить пароль для ssrs_writer, свой логин и пароль от админки
3. **Profit**

**Подключение к нужному проекту**

1. Если нужного проекта нет в **connect_config.json** -- добавить по образцу
2. Файл->Проект-><Нужный проект>

**_ВНИМАНИЕ:_**
Большинство действий в рамках коллекторского контекста доступно только когда распределение не запущено. 
В рамках программы организована проверка на действующее распределение, при попытке совершить небезопасное
действие во время работы распределения -- получите ошибку.

**Реализованные операции**
* Левый список пользователей -- все пользователи админки
* Правый список -- добавленные коллектора
* Аналогично, левое поле ввода -- поиск в спсике сотрудников (по имени/логину)
* Правое поле ввода -- поиск коллектора

1. Обновляем информацию в приложении (списки пользователей, их принадлежность к группе и т.д.)
    1. F5 в главном окне (или Файл->Обновить списки)

2. Добавление коллектора
    1. Создать пользователя админки (через отчет Edit borneo users или еще как)
    2. F5 в главном окне (или Файл->Обновить списки)
    3. В поле поиска пользователя начинаем вводить имя/логин (или просто ищем пользователя)
    4. ПКМ на выбранном пользователе, **Добавить коллектора**

3. Включаем или выключаем **пользователя админки**
    1. В поле поиска пользователя начинаем вводить имя/логин (или просто ищем пользователя)
    2. ПКМ на выбранном пользователе, **Вкл/Выкл пользователя**
    
4. Включаем или выключаем **коллектора**, убираем из группы, перемещаем в другую группу
    1. В поле поиска коллектора начинаем вводить имя (или просто ищем коллектора)
    2. ПКМ на выбранном коллектора, выбираем соответствующее действие
    3. Сменить группу коллектора или убрать его из группы можно только тогда, когда у него пустой портфель

5. Очистка портфеля коллектора (при перемещении между группами, уходе в отпуск и т.д.)
    1. Отключаем коллектора (см. п. 4)
    2. Нажимаем на кнопку **RedistributionOverdueProducts**, вызывается соотв. метод TestApi
    3. Ждем, когда распределение заканчивается
    
6. Наполнение портфеля
    1. Включаем коллектора, если он отключен (см. п. 4)
    2. Нажимаем на кнопку **AddProductsToNewCollector**, вызывается соотв. метод TestApi
    3. Ждем, когда распределение заканчивается  

**Типовые сценарии работы**

1. Пришел новый коллектор
    1. Добавляем его в админку
    2. Добавляем его в группу
    3. Наполняем его портфель
2. Коллектор ушел в отпуск
    1. Отключаем его
    2. Очищаем его портфель
3. Коллектор уволился
    1. см. п. 2.1
    2. см. п. 2.2
    3. Удаляем его из группы
4. Коллектор сменил группу
    1. см. п. 2.1
    2. см. п. 2.2
    3. Перемещаем его в другую группу
    4. Включаем его
    5. Наполняем его портфель